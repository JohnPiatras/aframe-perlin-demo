# A Simple Procedural Landscape In A-Frame
by John Burns

This demo generates a landscape heightmap using perlin noise and a normal map.

These are then applied by the gpu, via a vertex shader, to a tiled plane of 256x256 grid squares measure 4800x4800 units. By applying the heightmap using the vertex shader the landscape can then be scrolled infintely (it is seamlessly tiled) as the camera moves.

Trees are generated by the 'forest' component (12000 trees in total currently). Trees will only appear within the original 4800x4800m square, they do not repeat with the landscape yet.

The really quick sunrise / sunset is simulated by rotating a directional light which starts out on the left. The light is rotated around a vertical axis tilted by -56 degrees around the x-axis to approximate the path of the sun in the Scottish springtime.

The sun rise/set can be paused and unpaused using the spacebar.

# References
I referred to the following articles extensively when writing this.

## A Frame Documentation
https://aframe.io/docs/0.9.0/introduction/

### On Components
https://aframe.io/docs/0.9.0/introduction/writing-a-component.html#sidebar

## Perlin Noise 
https://gpfault.net/posts/perlin-noise.txt.html
http://eastfarthing.com/blog/2015-04-21-noise/
https://flafla2.github.io/2014/08/09/perlinnoise.html
https://www.shadertoy.com/view/4tGSzW

## Shaders
[A-Frame documentation on materials](https://github.com/aframevr/aframe/blob/master/docs/components/material.md).

[The Book Of Shaders](https://thebookofshaders.com) is a good start but is currently incomplete and does not get as far as using textures.

Here is an [example](https://glitch.com/edit/#!/aframe-displacement-shader) shader in A-Frame.

I learned about height blending [here](http://untitledgam.es/2017/01/height-blending-shader/).

## ThreeJS
https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene

### Raycaster
Initially used to find landscape altitude for tree placement but this turned out to be too slow.
https://threejs.org/docs/#api/en/core/Raycaster